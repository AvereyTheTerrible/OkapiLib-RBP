\hypertarget{classokapi_1_1Odometry}{}\section{okapi\+::Odometry Class Reference}
\label{classokapi_1_1Odometry}\index{okapi::Odometry@{okapi::Odometry}}


{\ttfamily \#include $<$odometry.\+hpp$>$}

Inheritance diagram for okapi\+::Odometry\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classokapi_1_1Odometry}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classokapi_1_1Odometry_a495d43ceb8cc03513e8365fdc1b37974}{Odometry}} (const \mbox{\hyperlink{classokapi_1_1TimeUtil}{Time\+Util}} \&itime\+Util, const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1ReadOnlyChassisModel}{Read\+Only\+Chassis\+Model}} $>$ \&imodel, const \mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} \&ichassis\+Scales, const Q\+Speed \&iwheel\+Vel\+Delta=0.\+0001\+\_\+mps, const std\+::shared\+\_\+ptr$<$ Logger $>$ \&ilogger=\+Logger\+::get\+Default\+Logger())
\item 
virtual \mbox{\hyperlink{classokapi_1_1Odometry_acdaa18c094c9ca21b094a85aa4f3081e}{$\sim$\+Odometry}} ()=default
\item 
virtual void \mbox{\hyperlink{classokapi_1_1Odometry_a5330b093e51d650b8ff2c6fe0ec2d27e}{set\+Scales}} (const \mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} \&ichassis\+Scales)
\item 
virtual void \mbox{\hyperlink{classokapi_1_1Odometry_a04586a88418c606f7bbd0ac3287c730d}{step}} ()
\item 
virtual \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} \mbox{\hyperlink{classokapi_1_1Odometry_a1ca6892feeeca68de3eb6faf6cf4bd18}{get\+State}} (const \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07}{State\+Mode}} \&imode=\mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07ad5ed7666e5cebf60d3af20a5a46edf3b}{State\+Mode\+::\+F\+R\+A\+M\+E\+\_\+\+T\+R\+A\+N\+S\+F\+O\+R\+M\+A\+T\+I\+ON}}) const
\item 
virtual void \mbox{\hyperlink{classokapi_1_1Odometry_a0f18a0770477130307b7c6a9702b0cc6}{set\+State}} (const \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} \&istate, const \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07}{State\+Mode}} \&imode=\mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07ad5ed7666e5cebf60d3af20a5a46edf3b}{State\+Mode\+::\+F\+R\+A\+M\+E\+\_\+\+T\+R\+A\+N\+S\+F\+O\+R\+M\+A\+T\+I\+ON}})
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} \mbox{\hyperlink{classokapi_1_1Odometry_a8fc2c3d72a0c475a7333eb9affe593a5}{odom\+Math\+Step}} (const std\+::valarray$<$ std\+::int32\+\_\+t $>$ \&itick\+Diff, const Q\+Time \&ideltaT)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1Logger}{Logger}} $>$ \mbox{\hyperlink{classokapi_1_1Odometry_a30cfb095d16b4a32b471568a40ab4711}{logger}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1AbstractRate}{Abstract\+Rate}} $>$ \mbox{\hyperlink{classokapi_1_1Odometry_a51a3a499e443240742ae8d3272be2110}{rate}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1AbstractTimer}{Abstract\+Timer}} $>$ \mbox{\hyperlink{classokapi_1_1Odometry_aedf3fb84bba92fbaf2fc9dfe8d91fd20}{timer}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1ReadOnlyChassisModel}{Read\+Only\+Chassis\+Model}} $>$ \mbox{\hyperlink{classokapi_1_1Odometry_a71fc47e8d90c6d6728a0a5163319d2ed}{model}}
\item 
\mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} \mbox{\hyperlink{classokapi_1_1Odometry_afb1605502a0164b1e946a15ae585ace0}{chassis\+Scales}}
\item 
Q\+Speed \mbox{\hyperlink{classokapi_1_1Odometry_acebfb2e25552de9062dd824fcccfb50e}{wheel\+Vel\+Delta}}
\item 
\mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} \mbox{\hyperlink{classokapi_1_1Odometry_a63165b62b596c34c1965f674f57aae5f}{state}}
\item 
std\+::valarray$<$ std\+::int32\+\_\+t $>$ \mbox{\hyperlink{classokapi_1_1Odometry_aabbd64b0c4969953599f694c71eb1a7f}{new\+Ticks}} \{0, 0, 0\}
\item 
std\+::valarray$<$ std\+::int32\+\_\+t $>$ \mbox{\hyperlink{classokapi_1_1Odometry_a28be79e0e646d4dcfc831896c61d81fc}{tick\+Diff}} \{0, 0, 0\}
\item 
std\+::valarray$<$ std\+::int32\+\_\+t $>$ \mbox{\hyperlink{classokapi_1_1Odometry_a7431f21a4bc30c9812f45e4f9d560cfa}{last\+Ticks}} \{0, 0, 0\}
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classokapi_1_1Odometry_a495d43ceb8cc03513e8365fdc1b37974}\label{classokapi_1_1Odometry_a495d43ceb8cc03513e8365fdc1b37974}} 
\index{okapi::Odometry@{okapi::Odometry}!Odometry@{Odometry}}
\index{Odometry@{Odometry}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{Odometry()}{Odometry()}}
{\footnotesize\ttfamily okapi\+::\+Odometry\+::\+Odometry (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classokapi_1_1TimeUtil}{Time\+Util}} \&}]{itime\+Util,  }\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1ReadOnlyChassisModel}{Read\+Only\+Chassis\+Model}} $>$ \&}]{imodel,  }\item[{const \mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} \&}]{ichassis\+Scales,  }\item[{const Q\+Speed \&}]{iwheel\+Vel\+Delta = {\ttfamily 0.0001\+\_\+mps},  }\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classokapi_1_1Logger}{Logger}} $>$ \&}]{ilogger = {\ttfamily \mbox{\hyperlink{classokapi_1_1Logger_a5053cf778b4b55acba788a3797dc96d2}{Logger\+::get\+Default\+Logger}}()} }\end{DoxyParamCaption})}

\mbox{\hyperlink{classokapi_1_1Odometry}{Odometry}}. Tracks the movement of the robot and estimates its position in coordinates relative to the start (assumed to be (0, 0, 0)).


\begin{DoxyParams}{Parameters}
{\em itime\+Util} & The \mbox{\hyperlink{classokapi_1_1TimeUtil}{Time\+Util}}. \\
\hline
{\em imodel} & The chassis model for reading sensors. \\
\hline
{\em ichassis\+Scales} & The chassis dimensions. \\
\hline
{\em iwheel\+Vel\+Delta} & The maximum delta between wheel velocities to consider the robot as driving straight. \\
\hline
{\em ilogger} & The logger this instance will log to. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classokapi_1_1Odometry_acdaa18c094c9ca21b094a85aa4f3081e}\label{classokapi_1_1Odometry_acdaa18c094c9ca21b094a85aa4f3081e}} 
\index{okapi::Odometry@{okapi::Odometry}!````~Odometry@{$\sim$Odometry}}
\index{````~Odometry@{$\sim$Odometry}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{$\sim$Odometry()}{~Odometry()}}
{\footnotesize\ttfamily virtual okapi\+::\+Odometry\+::$\sim$\+Odometry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classokapi_1_1Odometry_a1ca6892feeeca68de3eb6faf6cf4bd18}\label{classokapi_1_1Odometry_a1ca6892feeeca68de3eb6faf6cf4bd18}} 
\index{okapi::Odometry@{okapi::Odometry}!getState@{getState}}
\index{getState@{getState}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{getState()}{getState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} okapi\+::\+Odometry\+::get\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07}{State\+Mode}} \&}]{imode = {\ttfamily \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07ad5ed7666e5cebf60d3af20a5a46edf3b}{State\+Mode\+::\+F\+R\+A\+M\+E\+\_\+\+T\+R\+A\+N\+S\+F\+O\+R\+M\+A\+T\+I\+ON}}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the current state.


\begin{DoxyParams}{Parameters}
{\em imode} & The mode to return the state in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The current state in the given format. 
\end{DoxyReturn}
\mbox{\Hypertarget{classokapi_1_1Odometry_a8fc2c3d72a0c475a7333eb9affe593a5}\label{classokapi_1_1Odometry_a8fc2c3d72a0c475a7333eb9affe593a5}} 
\index{okapi::Odometry@{okapi::Odometry}!odomMathStep@{odomMathStep}}
\index{odomMathStep@{odomMathStep}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{odomMathStep()}{odomMathStep()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} okapi\+::\+Odometry\+::odom\+Math\+Step (\begin{DoxyParamCaption}\item[{const std\+::valarray$<$ std\+::int32\+\_\+t $>$ \&}]{itick\+Diff,  }\item[{const Q\+Time \&}]{ideltaT }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Does the math, side-\/effect free, for one odom step.


\begin{DoxyParams}{Parameters}
{\em itick\+Diff} & The tick difference from the previous step to this step. \\
\hline
{\em ideltaT} & The time difference from the previous step to this step. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The newly computed \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}}. 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classokapi_1_1ThreeEncoderOdometry_a8c0811674b9da0623a3cece56a25cca6}{okapi\+::\+Three\+Encoder\+Odometry}}.

\mbox{\Hypertarget{classokapi_1_1Odometry_a5330b093e51d650b8ff2c6fe0ec2d27e}\label{classokapi_1_1Odometry_a5330b093e51d650b8ff2c6fe0ec2d27e}} 
\index{okapi::Odometry@{okapi::Odometry}!setScales@{setScales}}
\index{setScales@{setScales}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{setScales()}{setScales()}}
{\footnotesize\ttfamily void okapi\+::\+Odometry\+::set\+Scales (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} \&}]{ichassis\+Scales }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Sets the drive and turn scales. \mbox{\Hypertarget{classokapi_1_1Odometry_a0f18a0770477130307b7c6a9702b0cc6}\label{classokapi_1_1Odometry_a0f18a0770477130307b7c6a9702b0cc6}} 
\index{okapi::Odometry@{okapi::Odometry}!setState@{setState}}
\index{setState@{setState}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{setState()}{setState()}}
{\footnotesize\ttfamily void okapi\+::\+Odometry\+::set\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} \&}]{istate,  }\item[{const \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07}{State\+Mode}} \&}]{imode = {\ttfamily \mbox{\hyperlink{namespaceokapi_af37fbd761bd859a00ff4dd4a87dd8c07ad5ed7666e5cebf60d3af20a5a46edf3b}{State\+Mode\+::\+F\+R\+A\+M\+E\+\_\+\+T\+R\+A\+N\+S\+F\+O\+R\+M\+A\+T\+I\+ON}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Sets a new state to be the current state.


\begin{DoxyParams}{Parameters}
{\em istate} & The new state in the given format. \\
\hline
{\em imode} & The mode to treat the input state as. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classokapi_1_1Odometry_a04586a88418c606f7bbd0ac3287c730d}\label{classokapi_1_1Odometry_a04586a88418c606f7bbd0ac3287c730d}} 
\index{okapi::Odometry@{okapi::Odometry}!step@{step}}
\index{step@{step}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{step()}{step()}}
{\footnotesize\ttfamily void okapi\+::\+Odometry\+::step (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Do one odometry step. 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classokapi_1_1Odometry_afb1605502a0164b1e946a15ae585ace0}\label{classokapi_1_1Odometry_afb1605502a0164b1e946a15ae585ace0}} 
\index{okapi::Odometry@{okapi::Odometry}!chassisScales@{chassisScales}}
\index{chassisScales@{chassisScales}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{chassisScales}{chassisScales}}
{\footnotesize\ttfamily \mbox{\hyperlink{classokapi_1_1ChassisScales}{Chassis\+Scales}} okapi\+::\+Odometry\+::chassis\+Scales\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a7431f21a4bc30c9812f45e4f9d560cfa}\label{classokapi_1_1Odometry_a7431f21a4bc30c9812f45e4f9d560cfa}} 
\index{okapi::Odometry@{okapi::Odometry}!lastTicks@{lastTicks}}
\index{lastTicks@{lastTicks}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{lastTicks}{lastTicks}}
{\footnotesize\ttfamily std\+::valarray$<$std\+::int32\+\_\+t$>$ okapi\+::\+Odometry\+::last\+Ticks \{0, 0, 0\}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a30cfb095d16b4a32b471568a40ab4711}\label{classokapi_1_1Odometry_a30cfb095d16b4a32b471568a40ab4711}} 
\index{okapi::Odometry@{okapi::Odometry}!logger@{logger}}
\index{logger@{logger}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classokapi_1_1Logger}{Logger}}$>$ okapi\+::\+Odometry\+::logger\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a71fc47e8d90c6d6728a0a5163319d2ed}\label{classokapi_1_1Odometry_a71fc47e8d90c6d6728a0a5163319d2ed}} 
\index{okapi::Odometry@{okapi::Odometry}!model@{model}}
\index{model@{model}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{model}{model}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classokapi_1_1ReadOnlyChassisModel}{Read\+Only\+Chassis\+Model}}$>$ okapi\+::\+Odometry\+::model\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_aabbd64b0c4969953599f694c71eb1a7f}\label{classokapi_1_1Odometry_aabbd64b0c4969953599f694c71eb1a7f}} 
\index{okapi::Odometry@{okapi::Odometry}!newTicks@{newTicks}}
\index{newTicks@{newTicks}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{newTicks}{newTicks}}
{\footnotesize\ttfamily std\+::valarray$<$std\+::int32\+\_\+t$>$ okapi\+::\+Odometry\+::new\+Ticks \{0, 0, 0\}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a51a3a499e443240742ae8d3272be2110}\label{classokapi_1_1Odometry_a51a3a499e443240742ae8d3272be2110}} 
\index{okapi::Odometry@{okapi::Odometry}!rate@{rate}}
\index{rate@{rate}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{rate}{rate}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classokapi_1_1AbstractRate}{Abstract\+Rate}}$>$ okapi\+::\+Odometry\+::rate\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a63165b62b596c34c1965f674f57aae5f}\label{classokapi_1_1Odometry_a63165b62b596c34c1965f674f57aae5f}} 
\index{okapi::Odometry@{okapi::Odometry}!state@{state}}
\index{state@{state}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily \mbox{\hyperlink{structokapi_1_1OdomState}{Odom\+State}} okapi\+::\+Odometry\+::state\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_a28be79e0e646d4dcfc831896c61d81fc}\label{classokapi_1_1Odometry_a28be79e0e646d4dcfc831896c61d81fc}} 
\index{okapi::Odometry@{okapi::Odometry}!tickDiff@{tickDiff}}
\index{tickDiff@{tickDiff}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{tickDiff}{tickDiff}}
{\footnotesize\ttfamily std\+::valarray$<$std\+::int32\+\_\+t$>$ okapi\+::\+Odometry\+::tick\+Diff \{0, 0, 0\}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_aedf3fb84bba92fbaf2fc9dfe8d91fd20}\label{classokapi_1_1Odometry_aedf3fb84bba92fbaf2fc9dfe8d91fd20}} 
\index{okapi::Odometry@{okapi::Odometry}!timer@{timer}}
\index{timer@{timer}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{timer}{timer}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classokapi_1_1AbstractTimer}{Abstract\+Timer}}$>$ okapi\+::\+Odometry\+::timer\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classokapi_1_1Odometry_acebfb2e25552de9062dd824fcccfb50e}\label{classokapi_1_1Odometry_acebfb2e25552de9062dd824fcccfb50e}} 
\index{okapi::Odometry@{okapi::Odometry}!wheelVelDelta@{wheelVelDelta}}
\index{wheelVelDelta@{wheelVelDelta}!okapi::Odometry@{okapi::Odometry}}
\subsubsection{\texorpdfstring{wheelVelDelta}{wheelVelDelta}}
{\footnotesize\ttfamily Q\+Speed okapi\+::\+Odometry\+::wheel\+Vel\+Delta\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/okapi/api/odometry/\mbox{\hyperlink{odometry_8hpp}{odometry.\+hpp}}\item 
src/api/odometry/\mbox{\hyperlink{odometry_8cpp}{odometry.\+cpp}}\end{DoxyCompactItemize}
