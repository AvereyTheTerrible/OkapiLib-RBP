\href{https://gitter.im/eranpeer/FakeIt?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge}{\texttt{ }}

G\+CC\+: \href{https://travis-ci.org/eranpeer/FakeIt}{\texttt{ }} \href{https://coveralls.io/github/eranpeer/FakeIt?branch=master}{\texttt{ }}

M\+SC\+: \href{https://ci.appveyor.com/project/eranpeer/fakeit}{\texttt{ }}

Fake\+It is a simple mocking framework for C++. It supports G\+CC, Clang and MS Visual C++.

Fake\+It is written in C++11 and can be used for testing both C++11 and C++ projects.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct }SomeInterface \{}
\DoxyCodeLine{    \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacetesting_1_1gmock__matchers__test_a3536e68112ffbb1f76887cd15bb45c15}{foo}}(\textcolor{keywordtype}{int}) = 0;}
\DoxyCodeLine{    \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceokapi_a0b54d28853182078db748ab94cb8cd45}{bar}}(\textcolor{keywordtype}{string}) = 0;}
\DoxyCodeLine{\};}
\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Instantiate a mock object.}}
\DoxyCodeLine{\mbox{\hyperlink{classMock}{Mock<SomeInterface>}} mock;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Setup mock behavior.}}
\DoxyCodeLine{\mbox{\hyperlink{api__macros_8hpp_a665d1615d3ae3f21983056f052ab7f24}{When}}(\mbox{\hyperlink{gmock-spec-builders__test_8cc_a95606368148f3e5aab5db46c32466afd}{Method}}(mock,\mbox{\hyperlink{namespacefoo}{foo}})).Return(1); \textcolor{comment}{// Method mock.foo will return 1 once.}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Fetch the mock instance.}}
\DoxyCodeLine{SomeInterface \&i = mock.get();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Will print "1". }}
\DoxyCodeLine{cout << i.foo(0);}
\end{DoxyCode}
 Verify method invocation 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classMock}{Mock<SomeInterface>}} mock;}
\DoxyCodeLine{        }
\DoxyCodeLine{\mbox{\hyperlink{api__macros_8hpp_a665d1615d3ae3f21983056f052ab7f24}{When}}(\mbox{\hyperlink{gmock-spec-builders__test_8cc_a95606368148f3e5aab5db46c32466afd}{Method}}(mock,\mbox{\hyperlink{namespacefoo}{foo}})).Return(0);}
\DoxyCodeLine{}
\DoxyCodeLine{SomeInterface \&i = mock.get();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Production code}}
\DoxyCodeLine{i.foo(1);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Verify method mock.foo was invoked.}}
\DoxyCodeLine{\mbox{\hyperlink{api__macros_8hpp_a1e3ec08b9ed170cb7904d58090ef9914}{Verify}}(\mbox{\hyperlink{gmock-spec-builders__test_8cc_a95606368148f3e5aab5db46c32466afd}{Method}}(mock,\mbox{\hyperlink{namespacefoo}{foo}}));}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Verify method mock.foo was invoked with specific arguments.}}
\DoxyCodeLine{\mbox{\hyperlink{api__macros_8hpp_a1e3ec08b9ed170cb7904d58090ef9914}{Verify}}(\mbox{\hyperlink{gmock-spec-builders__test_8cc_a95606368148f3e5aab5db46c32466afd}{Method}}(mock,\mbox{\hyperlink{namespacefoo}{foo}}).\mbox{\hyperlink{api__macros_8hpp_a1f6c3f1eb50b678fbe4cfadb13063a9c}{Using}}(1));}
\end{DoxyCode}


Checkout the \href{https://github.com/eranpeer/FakeIt/wiki/Quickstart}{\texttt{ Quickstart}} for many more examples!

Download the \href{https://github.com/eranpeer/FakeIt/releases/latest}{\texttt{ Latest Release}} and start using Fake\+It now!

\subsection*{Features}


\begin{DoxyItemize}
\item Packaged as a {\bfseries{single header file}}.
\item Very simple A\+PI based on the expressiveness of C++11.
\item Supports all major compilers\+: G\+CC, Clang and M\+S\+C++.
\item Easily integrated with \href{https://code.google.com/p/googletest/}{\texttt{ {\bfseries{G\+Test}}}}, \href{http://en.wikipedia.org/wiki/Visual_Studio_Unit_Testing_Framework}{\texttt{ {\bfseries{MS Test}}}} and \href{http://www.boost.org/doc/libs/1_56_0/libs/test/doc/html/index.html}{\texttt{ {\bfseries{Boost Test}}}}.
\item Expressive \href{http://xp123.com/articles/3a-arrange-act-assert/}{\texttt{ Arrange-\/\+Act-\/\+Assert}} syntax.
\item Create mock classes or {\bfseries{spy existing objects}} instantly in one simple line.
\item No limitation on number of method arguments.
\item Supports dynamic casting.
\end{DoxyItemize}

\subsection*{Installation}

Fake\+It is a header only framework. It does not require any installation. For extra simplicity fakeit is packaged as a single header file.

Fake\+It is pre-\/configured to work with some of the major unit testing frameworks. \mbox{\hyperlink{structA}{A}} pre-\/configured version will use the assertions mechanism of the unit testing framework to integrate the generated error messages into the unit testing framework output.

If you don\textquotesingle{}t find your unit testing framework on the list, simply use the {\itshape standalone} configuration.

\subsubsection*{Using a pre-\/packaged single header file}

Pre-\/packaged single header versions of Fake\+It are located under the {\itshape single\+\_\+header} folder. Depending on the unit testing framework you use, simply add one of the pre-\/packaged versions to the include path of your test project\+:
\begin{DoxyItemize}
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/\href{https://github.com/google/googletest}{\texttt{ gtest}}
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/mstest
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/boost
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/\href{https://github.com/philsquared/Catch}{\texttt{ catch}}
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/\href{https://github.com/tpounds/tpunitpp}{\texttt{ tpunit}}
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/\href{https://github.com/jimporter/mettle}{\texttt{ mettle}}
\item $<$fakeit\+\_\+folder$>$/single\+\_\+header/standalone
\end{DoxyItemize}

For example, to use fakeit with {\bfseries{Google Test}} simply add the {\itshape single\+\_\+header/gtest} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/single\_header/gtest"}
\end{DoxyCode}
 \subsubsection*{Using the source header files}

Fakeit source code header files are located under the {\itshape include} foler. To use Fake\+It directly from the source code all you need to do is to download the source files and add the {\itshape include} folder and the configuration folder of your choice to the include path of your project. For example\+:
\begin{DoxyItemize}
\item To use fakeit with {\bfseries{Google Test}} add the {\itshape include} folder and the {\itshape config/gtest} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/gtest"}
\end{DoxyCode}

\item To use fakeit with {\bfseries{MS Test}} add the {\itshape include} folder and the {\itshape config/mstest} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/mstest"}
\end{DoxyCode}

\item To use fakeit with {\bfseries{Boost Test}} add the {\itshape include} folder and the {\itshape config/boost} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/boost"}
\end{DoxyCode}

\item To use fakeit with {\bfseries{Catch}} add the {\itshape include} folder and the {\itshape config/catch} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/catch"}
\end{DoxyCode}

\item To use fakeit with {\bfseries{tpunit}} add the {\itshape include} folder and the {\itshape config/tpunit} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/tpunit"}
\end{DoxyCode}

\item To use fakeit with {\bfseries{Mettle}} add the {\itshape include} folder and the {\itshape config/mettle} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/mettle"}
\end{DoxyCode}

\item To use fakeit without any testing framework integration ({\bfseries{standalone}}) add the {\itshape include} folder and the {\itshape config/standalone} folder to the include path of your test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-I"<fakeit\_folder>/include" -I"<fakeit\_folder>/config/standalone"}
\end{DoxyCode}
 It is recommended to build and run the unit tests to make sure Fake\+It fits your environment. \#\#\#\# Building and Running the Unit Tests with G\+CC 
\begin{DoxyCode}{0}
\DoxyCodeLine{cd build}
\DoxyCodeLine{make all}
\end{DoxyCode}
 run the tests by typing 
\begin{DoxyCode}{0}
\DoxyCodeLine{./fakeit\_tests.exe}
\end{DoxyCode}
 \#\#\#\# Building and Running the Unit Tests with Clang 
\begin{DoxyCode}{0}
\DoxyCodeLine{cd build}
\DoxyCodeLine{make -f clang\_makefile all}
\end{DoxyCode}
 run the tests by typing 
\begin{DoxyCode}{0}
\DoxyCodeLine{./fakeit\_tests.exe}
\end{DoxyCode}
 \paragraph*{Building and Running the Unit Tests with Visual Studio}
\end{DoxyItemize}

Open the tests/all\+\_\+tests.\+vcxproj project file with Visual Studio 2013. Build and run the project and check the test results. \subsection*{Limitations}


\begin{DoxyItemize}
\item Currently only G\+CC, Clang and M\+S\+C++ are supported.
\item Can\textquotesingle{}t mock classes with multiple inheritance.
\item Can\textquotesingle{}t mock classes with virtual inheritance.
\item Currently mocks are not thread safe. 
\end{DoxyItemize}